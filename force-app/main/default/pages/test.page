<!--
<apex:page showHeader="false" cache="true" renderAs="pdf"
           contentType="application/x-pdf#Application.pdf">
    <apex:include pageName="TRAILApplication"/>
</apex:page>
-->

<apex:page
  controller="AssessmentCtrl"
  action="{!init}"
  showHeader="false"
  sidebar="false"
  docType="html-5.0"
>
  <head>
    <title>Self Assessment</title>
  </head>
  <c:Header
    ActivePage="compliance"
    acct="{!userAcct}"
    profile="{!currentUser.Profile.Name}"
  />
  <c:Spinner />

  <apex:form id="assessment">
    <div class="main-panel">
      <div class="content">
        <div id="anchor"></div>
        <div class="row">
          <div class="col-xs-6">
            <h2>BOARD/GOVERNANCE STANDARDS 1-7</h2>
          </div>
          <div class="col-xs-6 pull-right">
            <h5>{!assess.Organization_Name__c}</h5>
            <h5>Self Assessment Year: {!assess.Year__c}</h5>
          </div>
        </div>
        <!--
<c:AssessmentTabs userAcctType="{!userAcctType}" assessmentId="{!AssessmentId}" activeTabId="1" 
page1="{!labels['Page1Tab']}" page2="{!labels['Page2Tab']}" page3="{!labels['Page3Tab']}" page4="{!labels['Page4Tab']}" 
page5="{!labels['Page5Tab']}" page6="{!labels['Page6Tab']}" page7="{!labels['Page7Tab']}" page8="{!IF(assess.Year__c < 2019, labels['Page8Tab'], null)}" 
hideStandards="{!assess.Hide_Standards__c}" save="{!save}" />
-->
        <c:AssessmentTabs
          userAcctType="{!userAcctType}"
          assessmentId="{!AssessmentId}"
          activeTabId="1"
          year="{!assess.Year__c}"
          hideStandards="{!assess.Hide_Standards__c}"
          save="{!save}"
        />

        <div class="panel panel-default">
          <div class="panel-heading">{!labels['Standard 1']}</div>
          <div class="panel-body">
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S1_Board_Governance_Standards__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S1_Board_Governance_Standards__c}"
                    textField="{!assess.S1_Board_Governance_Standards_Text__c}"
                    label="{!labels['S1_Board_Governance_Standards__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading">{!labels['Standard 2']}</div>
          <div class="panel-body">
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S2a_Board_Charged_with_Governance__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S2a_Board_Charged_with_Governance__c}"
                    label="{!labels['S2a_Board_Charged_with_Governance__c']}"
                    textField="{!assess.S2a_Board_Charged_with_Governance_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
            <h5 style="margin-top: 10px">
              <apex:outputText
                value="{!labels['Standard 2 Subheader']}"
                escape="false"
              />
            </h5>
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S4b_BBBSA_Approved_Name_of_Agency__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S4b_BBBSA_Approved_Name_of_Agency__c}"
                    textField="{!assess.S4b_BBBSA_Approved_Name_of_Agency_Text__c}"
                    label="{!labels['S4b_BBBSA_Approved_Name_of_Agency__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'Governing_Authority_of_Board__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.Governing_Authority_of_Board__c}"
                    textField="{!assess.Governing_Authority_of_Board_Text__c}"
                    label="{!labels['Governing_Authority_of_Board__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S4b_Board_Meetings__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S4b_Board_Meetings__c}"
                    textField="{!assess.S4b_Board_Meetings_Text__c}"
                    label="{!labels['S4b_Board_Meetings__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S4b_Board_Membership__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S4b_Board_Membership__c}"
                    textField="{!assess.S4b_Board_Membership_Text__c}"
                    label="{!labels['S4b_Board_Membership__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'Nondiscrimination_Provision__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.Nondiscrimination_Provision__c}"
                    textField="{!assess.Nondiscrimination_Provision_Text__c}"
                    label="{!labels['Nondiscrimination_Provision__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'Provisions__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.Provisions__c}"
                    textField="{!assess.Provisions_Text__c}"
                    label="{!labels['Provisions__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel rendered="{!i.Field_API__c == 'Voting__c'}">
                  <c:AssessmentQuestion
                    radioField="{!assess.Voting__c}"
                    textField="{!assess.Voting_Text__c}"
                    label="{!labels['Voting__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S4b_Officers__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S4b_Officers__c}"
                    textField="{!assess.S4b_Officers_Text__c}"
                    label="{!labels['S4b_Officers__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S4b_Committee_Structure__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S4b_Committee_Structure__c}"
                    textField="{!assess.S4b_Committee_Structure_Text__c}"
                    label="{!labels['S4b_Committee_Structure__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'Indemnification__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.Indemnification__c}"
                    textField="{!assess.Indemnification_Text__c}"
                    label="{!labels['Indemnification__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'Process_for_Amending__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.Process_for_Amending__c}"
                    textField="{!assess.Process_for_Amending_Text__c}"
                    label="{!labels['Process_for_Amending__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'Books_and_Records__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.Books_and_Records__c}"
                    textField="{!assess.Books_and_Records_Text__c}"
                    label="{!labels['Books_and_Records__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S4b_Procedure_for_Dissolving__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S4b_Procedure_for_Dissolving__c}"
                    textField="{!assess.S4b_Procedure_for_Dissolving_Text__c}"
                    label="{!labels['S4b_Procedure_for_Dissolving__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S4_Governance_and_Finance_Policies__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S4_Governance_and_Finance_Policies__c}"
                    textField="{!assess.S4_Governance_and_Finance_Policies_Text__c}"
                    label="{!labels['S4_Governance_and_Finance_Policies__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
            <h5 style="margin-top: 10px">
              <apex:outputText value="Standard 2C: Compliance" escape="false" />
            </h5>
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S4a_Legal_Compliance__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S4a_Legal_Compliance__c}"
                    textField="{!assess.S4a_Legal_Compliance_Text__c}"
                    label="{!labels['S4a_Legal_Compliance__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
            <h5 style="margin-top: 10px">
              <apex:outputText
                value="Standard 2D: Chief Executive Officer / Executive Director Oversight"
                escape="false"
              />
            </h5>
            The Board has the responsibility for CEO/ED oversight and executive
            leadership succession, as specified in the Agency Bylaws. This
            includes, at a minimum:
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S7a_Job_Description__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S7a_Job_Description__c}"
                    textField="{!assess.S7a_Job_Description_Text__c}"
                    label="{!labels['S7a_Job_Description__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S7a_Review_and_Evaluation__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S7a_Review_and_Evaluation__c}"
                    textField="{!assess.S7a_Review_and_Evaluation_Text__c}"
                    label="{!labels['S7a_Review_and_Evaluation__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S7b_Notification_of_Change__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S7b_Notification_of_Change__c}"
                    textField="{!assess.S7b_Notification_of_Change_Text__c}"
                    label="{!labels['S7b_Notification_of_Change__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
            <h5 style="margin-top: 10px">
              <apex:outputText
                value="Standard 2E. Board Development"
                escape="false"
              />
            </h5>
            Each Agency must have a Board-approved, multi-year, written Board
            Development Plan that is implemented by the Board and designated
            Agency staff and that addresses, at a minimum:
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S6_Clarity_of_Roles__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S6_Clarity_of_Roles__c}"
                    textField="{!assess.S6_Clarity_of_Roles_Text__c}"
                    label="{!labels['S6_Clarity_of_Roles__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
          </div>
          <div class="panel-footer">
            <apex:commandButton
              action="{!attPopup}"
              value="Upload Bylaws"
              status="pageStatus"
              reRender="assessment"
            >
              <apex:param
                assignTo="{!fileName}"
                name="fileName"
                value="Bylaws"
              />
              <apex:param
                assignTo="{!parentId}"
                name="parentId"
                value="{!bylaws_parentId}"
              />
            </apex:commandButton>
            <apex:commandButton
              action="{!attPopup}"
              value="Upload Advisory Council Advisory Plan"
              status="pageStatus"
              reRender="assessment"
            >
              <apex:param
                assignTo="{!fileName}"
                name="fileName"
                value="Advisory Plan"
              />
              <apex:param
                assignTo="{!parentId}"
                name="parentId"
                value="{!advisoryPlan_parentId}"
              />
            </apex:commandButton>
            &nbsp;&nbsp;
            <apex:repeat value="{!att_list}" var="a">
              <apex:outputPanel
                rendered="{!a.Name == 'Bylaws' || a.Name == 'Advisory Plan'}"
              >
                <apex:outputLink
                  value="{!URLFOR($Action.Attachment.Download, a.Id)}"
                  target="_blank"
                >
                  {!a.Name}
                </apex:outputLink>
                ({!a.Description})
              </apex:outputPanel>
            </apex:repeat>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading">{!labels['Standard 3']}</div>
          <div class="panel-body">
            <apex:outputPanel rendered="{!acct.Type == 'Sponsored'}">
              <h5>
                The Council works with the BBBS Program Director and Sponsoring
                Organization fund development staff to develop and implement a
                fundraising plan that supports/addresses current operation
                needs, contingencies and planned growth.
              </h5>
            </apex:outputPanel>
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S3_Strategic_Planning__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S3_Strategic_Planning__c}"
                    textField="{!assess.S3_Strategic_Planning_Text__c}"
                    label="{!labels['S3_Strategic_Planning__c']}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
          </div>
          <div class="panel-footer">
            <apex:commandButton
              action="{!attPopup}"
              value="Upload Strategic Plan"
              status="pageStatus"
              reRender="assessment"
            >
              <apex:param
                assignTo="{!fileName}"
                name="fileName"
                value="Strategic Plan"
              />
              <apex:param
                assignTo="{!parentId}"
                name="parentId"
                value="{!strategic_parentId}"
              />
            </apex:commandButton>
            &nbsp;&nbsp;
            <apex:repeat value="{!att_list}" var="a">
              <apex:outputPanel
                rendered="{!a.Name == 'Fund Development Plan' || a.Name == 'Strategic Plan'}"
              >
                <apex:outputLink
                  value="{!URLFOR($Action.Attachment.Download, a.Id)}"
                  target="_blank"
                >
                  {!a.Name}
                </apex:outputLink>
                ({!a.Description})
              </apex:outputPanel>
            </apex:repeat>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading">{!labels['Standard 4']}</div>
          <div class="panel-body">
            Each Agency must have Board-approved, written policies that are
            reviewed by the Board at least every three years or as policies are
            revised.
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S7a_Succession_Plan__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S7a_Succession_Plan__c}"
                    label="{!labels['S7a_Succession_Plan__c']}"
                    textField="{!assess.S7a_Succession_Plan_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5a_Code_of_Ethics__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5a_Code_of_Ethics__c}"
                    label="{!labels['S5a_Code_of_Ethics__c']}"
                    textField="{!assess.S5a_Code_of_Ethics_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5a_Whistleblowers__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5a_Whistleblowers__c}"
                    label="{!labels['S5a_Whistleblowers__c']}"
                    textField="{!assess.S5a_Whistleblowers_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5a_Conflict_of_Interest__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5a_Conflict_of_Interest__c}"
                    label="{!labels['S5a_Conflict_of_Interest__c']}"
                    textField="{!assess.S5a_Conflict_of_Interest_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S24_Confidentiality__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S24_Confidentiality__c}"
                    label="{!labels['S24_Confidentiality__c']}"
                    textField="{!assess.S24_Confidentiality_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5a_Political_Activity__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5a_Political_Activity__c}"
                    label="{!labels['S5a_Political_Activity__c']}"
                    textField="{!assess.S5a_Political_Activity_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S9k_Staff_Serving_as_Volunteers__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S9k_Staff_Serving_as_Volunteers__c}"
                    label="{!labels['S9k_Staff_Serving_as_Volunteers__c']}"
                    textField="{!assess.S9k_Staff_Serving_as_Volunteers_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5c_Fundraising_Risks__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5c_Fundraising_Risks__c}"
                    label="{!labels['S5c_Fundraising_Risks__c']}"
                    textField="{!assess.S5c_Fundraising_Risks_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
            <h5 style="margin-top: 10px">
              <apex:outputText
                value="Standard 4B: Executive Limitations Policies"
                escape="false"
              />
            </h5>
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5b_Check_Authorization_Levels__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5b_Check_Authorization_Levels__c}"
                    label="{!labels['S5b_Check_Authorization_Levels__c']}"
                    textField="{!assess.S5b_Check_Authorization_Levels_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5b_Corporate_Loan__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5b_Corporate_Loan__c}"
                    label="{!labels['S5b_Corporate_Loan__c']}"
                    textField="{!assess.S5b_Corporate_Loan_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
            <h5 style="margin-top: 10px">
              <apex:outputText
                value="Standard 4C: Finance Policies"
                escape="false"
              />
            </h5>
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5b_Roles_and_Responsibilities__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5b_Roles_and_Responsibilities__c}"
                    label="{!labels['S5b_Roles_and_Responsibilities__c']}"
                    textField="{!assess.S5b_Roles_and_Responsibilities_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5b_Independent_Accounting_Firm__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5b_Independent_Accounting_Firm__c}"
                    label="{!labels['S5b_Independent_Accounting_Firm__c']}"
                    textField="{!assess.S5b_Independent_Accounting_Firm_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5b_Cash_Reserves__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5b_Cash_Reserves__c}"
                    label="{!labels['S5b_Cash_Reserves__c']}"
                    textField="{!assess.S5b_Cash_Reserves_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5c_Selection_of_Vendors__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5c_Selection_of_Vendors__c}"
                    label="{!labels['S5c_Selection_of_Vendors__c']}"
                    textField="{!assess.S5c_Selection_of_Vendors_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5b_Corporate_Investment__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5b_Corporate_Investment__c}"
                    label="{!labels['S5b_Corporate_Investment__c']}"
                    textField="{!assess.S5b_Corporate_Investment_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5b_Capital_Expenditure__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5b_Capital_Expenditure__c}"
                    label="{!labels['S5b_Capital_Expenditure__c']}"
                    textField="{!assess.S5b_Capital_Expenditure_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'Procurement_Policy__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.Procurement_Policy__c}"
                    label="{!labels['Procurement_Policy__c']}"
                    textField="{!assess.Procurement_Policy_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5b_Notification_of_Insolvency__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5b_Notification_of_Insolvency__c}"
                    label="{!labels['S5b_Notification_of_Insolvency__c']}"
                    textField="{!assess.S5b_Notification_of_Insolvency_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5b_Corporate_Credit_Card__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5b_Corporate_Credit_Card__c}"
                    label="{!labels['S5b_Corporate_Credit_Card__c']}"
                    textField="{!assess.S5b_Corporate_Credit_Card_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5b_Reimbursements__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5b_Reimbursements__c}"
                    label="{!labels['S5b_Reimbursements__c']}"
                    textField="{!assess.S5b_Reimbursements_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
            <h5 style="margin-top: 10px">
              <apex:outputText
                value="Standard 4D: Risk Management Policies"
                escape="false"
              />
            </h5>
            <table class="grid-pd-sm">
              <apex:repeat value="{!fields}" var="i">
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5c_Technology_Security_Policies__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5c_Technology_Security_Policies__c}"
                    label="{!labels['S5c_Technology_Security_Policies__c']}"
                    textField="{!assess.S5c_Technology_Security_Policies_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5c_Insurance_Plan__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5c_Insurance_Plan__c}"
                    label="{!labels['S5c_Insurance_Plan__c']}"
                    textField="{!assess.S5c_Insurance_Plan_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5c_Crisis_Management_Practices__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5c_Crisis_Management_Practices__c}"
                    label="{!labels['S5c_Crisis_Management_Practices__c']}"
                    textField="{!assess.S5c_Crisis_Management_Practices_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'S5c_Child_Safety_Policies__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.S5c_Child_Safety_Policies__c}"
                    label="{!labels['S5c_Child_Safety_Policies__c']}"
                    textField="{!assess.S5c_Child_Safety_Policies_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!i.Field_API__c == 'Operations_Plan__c'}"
                >
                  <c:AssessmentQuestion
                    radioField="{!assess.Operations_Plan__c}"
                    label="{!labels['Operations_Plan__c']}"
                    textField="{!assess.Operations_Plan_Text__c}"
                    options="{!options}"
                    userAcctType="{!userAcctType}"
                  />
                </apex:outputPanel>
              </apex:repeat>
            </table>
          </div>
        </div>

        <c:AssesssmentActions
          assessmentId="{!AssessmentId}"
          activeTabId="1"
          hideStandards="{!assess.Hide_Standards__c}"
          userAcctType="{!userAcctType}"
          errorMessage="{!errorMessage}"
          fileErrorMessage="{!fileErrorMessage}"
          parentId="{!parentId}"
          fileName="{!fileName}"
          displayAttPopup="{!displayAttPopup}"
          closeAttPopup="{!closeAttPopup}"
          displayDeletePopup="{!displayDeletePopup}"
          deletePopup="{!deletePopup}"
          deleteAssessment="{!deleteAssessment}"
          saveAndExit="{!saveAndExit}"
          saveAndContinue="{!saveAndContinue}"
          submit="{!submit}"
          upsertAssessment="{!upsertAssessment}"
        />
      </div>
    </div>

    <apex:outputPanel id="placeholder"></apex:outputPanel>
    <apex:actionFunction
      action="{!setParams}"
      name="setParams"
      reRender="placeholder"
    >
      <apex:param name="nextTabId" assignTo="{!nextTabId}" value="" />
    </apex:actionFunction>
  </apex:form>

  <script>
    window.onload = function () {
      setParams(2);
    };
  </script>
</apex:page>
